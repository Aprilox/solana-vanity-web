<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solana Vanity Generator</title>
    <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/@solana/web3.js@1.95.3/lib/index.iife.min.js"></script>
</head>

<body>
    <h1>Solana Vanity Generator</h1>
    <p class="subtitle">Génération locale • Multi-thread • Ultra-rapide</p>

    <div class="card">
        <input type="text" id="vanity" placeholder="Préfixe (ex: pip, ABC)" maxlength="10" autocomplete="off">
        <button id="startBtn">Lancer la Recherche</button>
    </div>

    <div class="card settings">
        <label>
            <span>Threads CPU :</span>
            <select id="threadCount"></select>
        </label>
    </div>

    <!-- CONSOLE TERMINAL -->
    <div id="console">
        <div class="console-line">Prêt à démarrer...</div>
        <div class="console-line thread-line" id="threadLine" style="display: none;"></div>
    </div>

    <div id="results" class="card">
        <div class="field">
            <label>Adresse publique:</label>
            <div class="key-display" id="pubkey"></div>
            <div class="copy-row">
                <button class="copy-btn" data-target="pubkey">Copier</button>
            </div>
        </div>

        <div class="field">
            <label>Clé privée (base58):</label>
            <div class="key-display" id="privkey"></div>
            <div class="copy-row">
                <button class="copy-btn" data-target="privkey">Copier</button>
            </div>
        </div>

        <div class="copy-row">
            <button id="downloadJson">wallet.json (Phantom)</button>
            <button id="downloadBackup">vanity-backup.json</button>
        </div>
    </div>

    <script src="app.js"></script>
    <script>
        window.addEventListener('beforeunload', (e) => {
            if (window.isGenerating) {
                e.preventDefault();
                e.returnValue = '';
                return 'Génération en cours. Voulez-vous vraiment quitter ?';
            }
        });
    </script>
</body>

</html>